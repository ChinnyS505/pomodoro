<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Pomodoro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; transition: all 0.5s ease; }
        .glass { background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); }
    </style>
</head>
<body class="bg-red-500 flex items-center justify-center min-h-screen">

    <div class="glass p-8 rounded-[2rem] shadow-2xl text-center w-[22rem]">
        
        <div class="flex flex-col gap-4 mb-8">
            <div class="flex justify-between text-white font-bold text-sm">
                <span id="modeLabel">Working Mode</span>
                <span id="statusIcon">üî•</span>
            </div>
            
            <select id="timeSelector" onchange="updateSettings()" class="bg-white/20 text-white border-none rounded-xl p-3 outline-none cursor-pointer font-semibold focus:ring-2 focus:ring-white/50">
                <optgroup label="Work Sessions" class="text-gray-800">
                    <option value="15">Quick Focus: 15 Minutes</option>
                    <option value="25" selected>Standard Focus: 25 Minutes</option>                   
                    <option value="45">Focus: 45 Minutes</option>
                    <option value="60">Deep Work: 60 Minutes</option>
                </optgroup>
                <optgroup label="Breaks" class="text-gray-800">
                    <option value="5">Short Break: 5 Minutes</option>
                    <option value="10">Normal Break: 10 Minutes</option>
                    <option value="15-break">Long Break: 15 Minutes</option>
                </optgroup>
            </select>
        </div>

        <div id="timer" class="text-8xl font-black text-white mb-8 tracking-tighter drop-shadow-lg">
            25:00
        </div>

        <div class="flex flex-col gap-3">
            <button id="startBtn" onclick="toggleTimer()" class="bg-white text-red-500 text-2xl font-black py-4 rounded-2xl shadow-xl hover:scale-[1.02] active:scale-95 transition-all">
                START
            </button>
            <button onclick="resetTimer()" class="text-white/70 font-bold py-2 hover:text-white transition uppercase text-xs tracking-widest">
                Reset Timer
            </button>
        </div>
    </div>

    <script>
        let timeLeft = 25 * 60;
        let timerId = null;
        let isRunning = false;

        const timerDisplay = document.getElementById('timer');
        const startBtn = document.getElementById('startBtn');
        const timeSelector = document.getElementById('timeSelector');
        const modeLabel = document.getElementById('modeLabel');

        function updateSettings() {
            const selectedVal = timeSelector.value;
            let minutes;

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô Break ‡∏´‡∏£‡∏∑‡∏≠ Work ‡πÅ‡∏°‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏∞‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô (‡πÄ‡∏ä‡πà‡∏ô 15 ‡∏ô‡∏≤‡∏ó‡∏µ)
            if (selectedVal === "15-break" || parseInt(selectedVal) < 15) {
                // Mode: Break
                document.body.className = "bg-teal-500 flex items-center justify-center min-h-screen";
                startBtn.style.color = "#14b8a6";
                modeLabel.innerText = "Break Time";
                document.getElementById('statusIcon').innerText = "‚òï";
                minutes = parseInt(selectedVal);
            } else {
                // Mode: Work
                document.body.className = "bg-red-500 flex items-center justify-center min-h-screen";
                startBtn.style.color = "#ef4444";
                modeLabel.innerText = "Working Mode";
                document.getElementById('statusIcon').innerText = "üî•";
                minutes = parseInt(selectedVal);
            }

            stopTimer();
            timeLeft = minutes * 60;
            updateDisplay();
        }

        function updateDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            timerDisplay.textContent = timeString;
            document.title = isRunning ? `(${timeString}) Focusing...` : 'Pomodoro App';
        }

        function toggleTimer() {
            if (isRunning) {
                stopTimer();
            } else {
                startBtn.textContent = 'PAUSE';
                isRunning = true;
                timerId = setInterval(() => {
                    if (timeLeft > 0) {
                        timeLeft--;
                        updateDisplay();
                    } else {
                        finishTimer();
                    }
                }, 1000);
            }
        }

        function stopTimer() {
            clearInterval(timerId);
            isRunning = false;
            startBtn.textContent = 'START';
        }

        function resetTimer() {
            stopTimer();
            timeLeft = parseInt(timeSelector.value) * 60;
            updateDisplay();
        }

        function finishTimer() {
            stopTimer();
            alert("‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡πâ‡∏ß!");
            resetTimer();
        }
    </script>
</body>
</html>